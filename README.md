# Сервис перевода статей  
Проект реализовали студенты группы РИМ-140902 Быцюк Н.Н., Завьялов И.А.  
Данный проект разработан для оказания помощи в освоении дисциплины «Иностранный язык в сфере делового и профессионального общения».  
В функционал разработанного сервиса входит:
1) считывание текста статьи из файла в формате .pdf;
2) перевод текста статьи с английского языка на русский;
3) составление саммари статьи на английском языке (по желанию пользователя);
4) запись итоговых результатов в .docx файл с форматированием, соответствующим требованиям дисциплины.

Обратите внимание, что сервис предназначается для работы со статьями с сайта [IEEE Xplore](https://ieeexplore.ieee.org/Xplore/home.jsp), распространяющимися в закрытом доступе. Работа со статьями из открытого доступа в данный момент не поддерживается ввиду различий в оформлении статей.  
Обратите внимание, что при добавлении саммари текста статьи, время обработки запроса может занять некоторое время, ввиду низкой скорости работы модели HuggingFace «facebook/bart-large-cnn».  


## Обработка файлов .pdf
Для обработки файлов пдф используются......

## Разработка API
Серверная часть реализована с помощью библиотеки ```fastapi```. Включает в себя два адреса для отправки запросов:
1) ```/availability check``` для проверки доступоности сервиса;
2) ```/pdf_process/{summ}``` для реализации функционала сервиса, где ```/{summ}``` - параметр запроса, принимающий значение ```1```, когда пользователь желает добавить саммари статьи в .docx документ, и ```0``` когда саммари не требуется.

Для локального запуска API необходимо в терминале выполнить команду запуска uvicorn командой ```uvicorn fastapi_app:app```. Документация будет доступна по адресу: [English articles processing - Swagger UI](http://127.0.0.1:8000/docs#/default/get_user_pdf_pdf_process_post).   

## Пользовательский интерфейс
Интерфейс для взаимодействия пользователя с сервисом был разработан с использованием библиотеки ```streamlit```. 
В пользовательском интерфейсеприсутствует:
- поле для загрузки файла в формате .pdf;
- чекбокс для отметки, необходимо ли включить в итоговый документ саммари статьи;
- кнопка для отправки статьи;
- кнопка для скачивания итогового файла (появляется после выполнения перевода и саммаризации).

Для локального запуска UI необходимо в параллельном терминале выполнить команду запуска streamlit командой  ```streamlit run streamlit_app.py```. После этого будет доступен UI, 
с помощью которого можно осуществить преобразование pdf в docx (доступен по адресу http://localhost:8501/).  

## Тестирование  
Все необходимое для тестирования находится в директории ```tests```.  
#### Исходные данные:
- ```files_pdf``` - директория, содержащая примеры статей в формате .pdf для тестов;  
- ```files_unit_testing``` - директория, содержащая файлы с сгенерерованными данными для проведения модульных (unit) тестов. Генерация осуществлялась с помощью функции ```create_files_unit_testing``` из ```main.py```.  
#### Программы для тестирования:
- ```test_units.py``` - модульное тестирование отдельных функций обработки данных;
- ```test_integration.py``` - интеграционные тесты для всего пайплайна обработки данных;
- ```test_model_sum.py``` - тесты для модели саммаризации текста. Содержат модульные и приемочные тесты. Тесты для модели саммаризации были вынесены в отдельный блок из-за длительного времени работы модели HuggingFace «facebook/bart-large-cnn»;
- ```test_load.py``` - нагрузочные тесты для сервиса. Осуществляет одновременные запросы к API сервиса.

